function fnFormatDetails(a,b){var c=a.fnGetData(b),d='<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;" class="inner-table">';return d+="<tr><td>Rendering engine:</td><td>"+c[1]+" "+c[4]+"</td></tr>",d+="<tr><td>Link to source:</td><td>Could provide a link here</td></tr>",d+="<tr><td>Extra info:</td><td>And any further details here (images etc)</td></tr>",d+="</table>"}function deploymentLineGraphCall(a,b,c,d,e,f){var g=Utility.getUrlParam("startDate"),h=Utility.getUrlParam("endDate"),i=Utility.getUrlParam("appId");calls.init({name:"deploymentLine",url:serviceBaseUrl+"/newMonkGetDeployments.php?startDate="+g+"&endDate="+h+"&appId="+i+"&callback=deployemntCB&offset=0&count=50",callback:"callback.cb"}).trigger({el:""}),deployemntCB=function(a){$.each(a.deployments,function(a,b){var c=a.split(/-|\s|:/);c[1]=parseInt(c[1])-1;var d=Date.UTC.apply(Date.UTC,c);callback.plotLineArray.push({value:d,color:"brown",dashStyle:"solid",width:2,zIndex:1,label:{text:'<span style="font-weight:bold;">'+b.tag+"</span>"}})}),Graph.loadTimePageViewGraph(a,b,c,d,e,f)}}function fnBrowserDetails(a,b,c){var c=c,d='<table cellpadding="5" cellspacing="0" border="0" style="width:100%" class="inner-table browser">';for(var e in browserData)if(browserData[e].label==c){var f=Utility.toFixed(100*(browserData[e].pageViews/total_pageViews));d+='<tr><td style="width:26%;">'+browserData[e].label+" "+browserData[e].version+'</td><td style="width:27%">'+f+"%</td><td>"+Utility.milliToSec(browserData[e].loadTime)+"</td><td></td></tr>"}return d+="</table>"}function fnplatformDetails(a,b,c){var c=c,d='<table cellpadding="5" cellspacing="0" border="0" style="width:100%" class="inner-table browser">';for(var e in platformData)if(platformData[e].type==c){var f=Utility.toFixed(100*(platformData[e].pageViews/total_pageViews));d+='<tr><td style="width:26%;">'+platformData[e].label+' </td><td style="width:27%">'+f+"%</td><td>"+Utility.milliToSec(platformData[e].loadTime)+"</td><td></td></tr>"}return d+="</table>"}$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span12'p i>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:-1===a._iDisplayLength?0:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:-1===a._iDisplayLength?0:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(a,b,c){var d=(a.oLanguage.oPaginate,function(b){b.preventDefault(),a.oApi._fnPageChange(a,b.data.action)&&c(a)});$(b).addClass("pagination").append('<ul><li class="prev disabled"><a href="#"><i class="icon-chevron-left"></i></a></li><li class="next disabled"><a href="#"><i class="icon-chevron-right"></i></a></li></ul>');var e=$("a",b);$(e[0]).bind("click.DT",{action:"previous"},d),$(e[1]).bind("click.DT",{action:"next"},d)},fnUpdate:function(a,b){var c,d,e,f,g,h,i=5,j=a.oInstance.fnPagingInfo(),k=a.aanFeatures.p,l=Math.floor(i/2);for(j.iTotalPages<i?(g=1,h=j.iTotalPages):j.iPage<=l?(g=1,h=i):j.iPage>=j.iTotalPages-l?(g=j.iTotalPages-i+1,h=j.iTotalPages):(g=j.iPage-l+1,h=g+i-1),c=0,d=k.length;d>c;c++){for($("li:gt(0)",k[c]).filter(":not(:last)").remove(),e=g;h>=e;e++)f=e==j.iPage+1?'class="active"':"",$("<li "+f+'><a href="#">'+e+"</a></li>").insertBefore($("li:last",k[c])[0]).bind("click",function(c){c.preventDefault(),a._iDisplayStart=(parseInt($("a",this).text(),10)-1)*j.iLength,b(a)});0===j.iPage?$("li:first",k[c]).addClass("disabled"):$("li:first",k[c]).removeClass("disabled"),j.iPage===j.iTotalPages-1||0===j.iTotalPages?$("li:last",k[c]).addClass("disabled"):$("li:last",k[c]).removeClass("disabled")}}}}),$.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT ",buttons:{normal:"btn btn-white",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info "},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}),$(document).ready(function(){function a(){$("#example3").dataTable().fnAddData([$("#val1 option:selected").text(),$("#val2 option:selected").text(),"Windows","789.","A"])}var b=void 0,c={tablet:1024,phone:480},d=$("#example");d.dataTable({sDom:"<'row-fluid'<'span6'l T><'span6'f>r>t<'row-fluid'<'span12'p i>>",oTableTools:{aButtons:[{sExtends:"collection",sButtonText:"<i class='icon-cloud-download'></i>",aButtons:["csv","xls","pdf","copy"]}]},sPaginationType:"bootstrap",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aaSorting:[[1,"asc"]],oLanguage:{sLengthMenu:"_MENU_ ",sInfo:"Showing <b>_START_ to _END_</b> of _TOTAL_ entries"},bAutoWidth:!1,fnPreDrawCallback:function(){b||(b=new ResponsiveDatatablesHelper(d,c))},fnRowCallback:function(a){b.createExpandIcon(a)},fnDrawCallback:function(a){b.respond()}}),$("#example_wrapper .dataTables_filter input").addClass("input-medium "),$("#example_wrapper .dataTables_length select").addClass("select2-wrapper span12"),$("#example input").click(function(){$(this).parent().parent().parent().toggleClass("row_selected")}),$("#quick-access .btn-cancel").click(function(){$("#quick-access").css("bottom","-115px")}),$("#quick-access .btn-add").click(function(){a(),$("#quick-access").css("bottom","-115px")});var e=document.createElement("th"),f=document.createElement("td");f.innerHTML='<i class="icon-plus-sign"></i>',f.className="center",$("#example2 thead tr").each(function(){this.insertBefore(e,this.childNodes[0])}),$("#example2 tbody tr").each(function(){this.insertBefore(f.cloneNode(!0),this.childNodes[0])}),jQuery.fn.dataTableExt.oSort["string-case-asc"]=function(a,b){return parseFloat(a)-parseFloat(b)},jQuery.fn.dataTableExt.oSort["string-case-desc"]=function(a,b){return parseFloat(b)-parseFloat(a)};var g=$("#example2").dataTable({sDom:"<'row-fluid'<'span12'l >r>t<'row-fluid'<'span12'p i>>",oLanguage:{sLengthMenu:"_MENU_ ",sInfo:"Showing <b>_START_ to _END_</b> of _TOTAL_ entries"},aoColumns:[{sTitle:"Browser"},{sTitle:"Total Visit",sType:"string-case"},{sTitle:"Avg Load time (sec)"}],aaSorting:[[1,"desc"]]});browserTable=$("#browserTable").dataTable({sDom:"<'row-fluid'<'span3 pull-right'l >r>t<'row-fluid'<'span12'p i>>",oLanguage:{sLengthMenu:"_MENU_ ",sInfo:"Showing <b>_START_ to _END_</b> of _TOTAL_ entries"},aoColumns:[{sTitle:"Browser",sWidth:"25%"},{sTitle:"Total Visit",sType:"string-case",sWidth:"25%"},{sTitle:"Avg Load time (sec)",sWidth:"35%"},{sTitle:" ",sWidth:"10%"}],aaSorting:[[1,"desc"]]}),deviceTable=$("#deviceTable").dataTable({sDom:"<'row-fluid'<'span3 pull-right'l >r>t<'row-fluid'<'span12'p i>>",oLanguage:{sLengthMenu:"_MENU_ ",sInfo:"Showing <b>_START_ to _END_</b> of _TOTAL_ entries"},aoColumns:[{sTitle:"Device",sWidth:"25%"},{sTitle:"Total Visit",sType:"string-case",sWidth:"25%"},{sTitle:"Avg Load time (sec)",sWidth:"35%"},{sTitle:" ",sWidth:"10%"}],aaSorting:[[1,"desc"]]});$("#example3").dataTable({sDom:"<'row-fluid'<'span6'l <'toolbar'>><'span6'f>r>t<'row-fluid'<'span12'p i>>",oTableTools:{aButtons:[{sExtends:"collection",sButtonText:"<i class='icon-cloud-download'></i>",aButtons:["csv","xls","pdf","copy"]}]},aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aaSorting:[[3,"desc"]],oLanguage:{sLengthMenu:"_MENU_ ",sInfo:"Showing <b>_START_ to _END_</b> of _TOTAL_ entries"}});$("div.toolbar").html('<div class="table-tolos-actions"><button class="btn btn-primary pull-right" style="margin-left:12px" id="test2">Filter</button></div>'),$("#test2").on("click",function(){$("#quick-access").css("bottom","0px")}),$("#example2_wrapper .dataTables_filter input").addClass("input-medium "),$("#example2_wrapper .dataTables_length select").addClass("select2-wrapper span12"),$("#example3_wrapper .dataTables_filter input").addClass("input-medium "),$("#example3_wrapper .dataTables_length select").addClass("select2-wrapper span12"),$("#example2 tbody td i").live("click",function(){var a=$(this).parents("tr")[0];g.fnIsOpen(a)?(this.removeClass="icon-plus-sign",this.addClass="icon-minus-sign",g.fnClose(a)):(this.removeClass="icon-minus-sign",this.addClass="icon-plus-sign",g.fnOpen(a,fnFormatDetails(g,a),"details"))}),$(".select2-wrapper").select2({minimumResultsForSearch:-1})}),Tables=function(){function a(a,b,d,e){$("#visitor_table thead th").eq(0).html(a),c.fnClearTable();for(key in b)b.hasOwnProperty(key)&&c.fnAddData([new Date(b[key]).toLocaleString(),e[key],d[key]])}function b(a){d.fnClearTable();for(key in a)if(a.hasOwnProperty(key)){var b=a[key],c=Utility.milliToSec(b.loadTime);d.fnAddData([b.label,c])}Utility.unblockUI($("#resourceTimerTable_wrapper"))}var c=$("#visitor_table").dataTable({aoColumns:[{sTitle:""},{sTitle:"LoadTime"},{sTitle:"PageViews"}]}),d=$("#resourceTimerTable").dataTable({sDom:"t",aoColumns:[{sTitle:"Name"},{sTitle:"Time (sec)"}]});return{visitorTable:a,resourceTimeTable:b}}(),function(a){var b=a.each,c=function(a,b){this.init(a,b)};a.extend(c.prototype,{init:function(a,b){this.options=a,this.chartOptions=b,this.columns=a.columns||this.rowsToColumns(a.rows)||[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var c=this.chartOptions,d=c&&c.chart&&c.chart.type,e=[];b(c&&c.series||[],function(b){e.push((a.seriesTypes[b.type||d||"line"].prototype.pointArrayMap||[0]).length)}),this.valueCount={global:(a.seriesTypes[d||"line"].prototype.pointArrayMap||[0]).length,individual:e}},dataFound:function(){this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var a=this,c=this.options,d=c.csv,e=this.columns,f=c.startRow||0,g=c.endRow||Number.MAX_VALUE,h=c.startColumn||0,i=c.endColumn||Number.MAX_VALUE,j=0;d&&(d=d.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(c.lineDelimiter||"\n"),b(d,function(d,k){var l=a.trim(d),m=0===l.indexOf("#");k>=f&&g>=k&&!m&&""!==l&&(l=d.split(c.itemDelimiter||","),b(l,function(a,b){b>=h&&i>=b&&(e[b-h]||(e[b-h]=[]),e[b-h][j]=a)}),j+=1)}),this.dataFound())},parseTable:function(){var a,c=this.options,d=c.table,e=this.columns,f=c.startRow||0,g=c.endRow||Number.MAX_VALUE,h=c.startColumn||0,i=c.endColumn||Number.MAX_VALUE;d&&("string"==typeof d&&(d=document.getElementById(d)),b(d.getElementsByTagName("tr"),function(c,d){a=0,d>=f&&g>=d&&b(c.childNodes,function(b){("TD"===b.tagName||"TH"===b.tagName)&&a>=h&&i>=a&&(e[a]||(e[a]=[]),e[a][d-f]=b.innerHTML,a+=1)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var a,b,c=this,d=this.options,e=d.googleSpreadsheetKey,f=this.columns,g=d.startRow||0,h=d.endRow||Number.MAX_VALUE,i=d.startColumn||0,j=d.endColumn||Number.MAX_VALUE;e&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+e+"/"+(d.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(d){var e,k,d=d.feed.entry,l=d.length,m=0,n=0;for(k=0;l>k;k++)e=d[k],m=Math.max(m,e.gs$cell.col),n=Math.max(n,e.gs$cell.row);for(k=0;m>k;k++)k>=i&&j>=k&&(f[k-i]=[],f[k-i].length=Math.min(n,h-g));for(k=0;l>k;k++)e=d[k],a=e.gs$cell.row-1,b=e.gs$cell.col-1,b>=i&&j>=b&&a>=g&&h>=a&&(f[b-i][a-g]=e.content.$t);c.dataFound()})},findHeaderRow:function(){b(this.columns,function(){}),this.headerRow=0},trim:function(a){return"string"==typeof a?a.replace(/^\s+|\s+$/g,""):a},parseTypes:function(){for(var a,b,c,d,e=this.columns,f=e.length;f--;)for(a=e[f].length;a--;)b=e[f][a],c=parseFloat(b),d=this.trim(b),d==c?(e[f][a]=c,c>31536e6?e[f].isDatetime=!0:e[f].isNumeric=!0):(b=this.parseDate(b),0!==f||"number"!=typeof b||isNaN(b)?e[f][a]=""===d?null:d:(e[f][a]=b,e[f].isDatetime=!0))},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(a){return Date.UTC(+a[1],a[2]-1,+a[3])}}},parseDate:function(a){var b,c,d,e=this.options.parseDate;if(e&&(b=e(a)),"string"==typeof a)for(c in this.dateFormats)e=this.dateFormats[c],(d=a.match(e.regex))&&(b=e.parser(d));return b},rowsToColumns:function(a){var b,c,d,e,f;if(a)for(f=[],c=a.length,b=0;c>b;b++)for(e=a[b].length,d=0;e>d;d++)f[d]||(f[d]=[]),f[d][b]=a[b][d];return f},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var b,c,d,e,f,g,h,i,j=this.columns,k=this.options;if(k.complete){for(this.getColumnDistribution(),j.length>1&&(b=j.shift(),0===this.headerRow&&b.shift(),b.isDatetime?c="datetime":b.isNumeric||(c="category")),g=0;g<j.length;g++)0===this.headerRow&&(j[g].name=j[g].shift());for(e=[],g=0,i=0;g<j.length;i++){for(d=a.pick(this.valueCount.individual[i],this.valueCount.global),f=[],h=0;h<j[g].length;h++)f[h]=[b[h],void 0!==j[g][h]?j[g][h]:null],d>1&&f[h].push(void 0!==j[g+1][h]?j[g+1][h]:null),d>2&&f[h].push(void 0!==j[g+2][h]?j[g+2][h]:null),d>3&&f[h].push(void 0!==j[g+3][h]?j[g+3][h]:null),d>4&&f[h].push(void 0!==j[g+4][h]?j[g+4][h]:null);e[i]={name:j[g].name,data:f},g+=d}k.complete({xAxis:{type:c},series:e})}}}),a.Data=c,a.data=function(a,b){return new c(a,b)},a.wrap(a.Chart.prototype,"init",function(c,d,e){var f=this;d&&d.data?a.data(a.extend(d.data,{complete:function(g){d.series&&b(d.series,function(b,c){d.series[c]=a.merge(b,g.series[c])}),d=a.merge(g,d),c.call(f,d,e)}}),d):c.call(f,d,e)})}(Highcharts),function(a){var b=function(){},c=a.getOptions(),d=a.each,e=a.extend,f=a.format,g=a.pick,h=a.wrap,i=a.Chart,j=a.seriesTypes,k=j.pie,l=j.column,m=a.Tick,n=HighchartsAdapter.fireEvent,o=HighchartsAdapter.inArray,p=1;e(c.lang,{drillUpText:"â— Back to {series.name}"}),c.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}},a.SVGRenderer.prototype.Element.prototype.fadeIn=function(a){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:g(this.newOpacity,1)},a||{duration:250})},i.prototype.addSeriesAsDrilldown=function(a,b){this.addSingleSeriesAsDrilldown(a,b),this.applyDrilldown()},i.prototype.addSingleSeriesAsDrilldown=function(a,c){var f,g=a.series,h=g.xAxis,i=g.yAxis;f=a.color||g.color;var j,k,l,m=[],n=[];this.drilldownLevels||(this.drilldownLevels=[]),k=g.options._levelNumber||0,(l=this.drilldownLevels[this.drilldownLevels.length-1])&&l.levelNumber!==k&&(l=void 0),c=e({color:f,_ddSeriesId:p++},c),j=o(a,g.points),d(g.chart.series,function(a){a.xAxis!==h||a.isDrilling||(a.options._ddSeriesId=a.options._ddSeriesId||p++,a.options._colorIndex=a.userOptions._colorIndex,a.options._levelNumber=a.options._levelNumber||k,l?(m=l.levelSeries,n=l.levelSeriesOptions):(m.push(a),n.push(a.options)))}),f={levelNumber:k,seriesOptions:g.options,levelSeriesOptions:n,levelSeries:m,shapeArgs:a.shapeArgs,bBox:a.graphic?a.graphic.getBBox():{},color:f,lowerSeriesOptions:c,pointOptions:g.options.data[j],pointIndex:j,oldExtremes:{xMin:h&&h.userMin,xMax:h&&h.userMax,yMin:i&&i.userMin,yMax:i&&i.userMax}},this.drilldownLevels.push(f),f=f.lowerSeries=this.addSeries(c,!1),f.options._levelNumber=k+1,h&&(h.oldPos=h.pos,h.userMin=h.userMax=null,i.userMin=i.userMax=null),g.type===f.type&&(f.animate=f.animateDrilldown||b,f.options.animation=!0)},i.prototype.applyDrilldown=function(){var a,b=this.drilldownLevels;b&&b.length>0&&(a=b[b.length-1].levelNumber,d(this.drilldownLevels,function(b){b.levelNumber===a&&d(b.levelSeries,function(b){b.options&&b.options._levelNumber===a&&b.remove(!1)})})),this.redraw(),this.showDrillUpButton()},i.prototype.getDrilldownBackText=function(){var a=this.drilldownLevels;return a&&a.length>0?(a=a[a.length-1],a.series=a.seriesOptions,f(this.options.lang.drillUpText,a)):void 0},i.prototype.showDrillUpButton=function(){var a,b,c=this,d=this.getDrilldownBackText(),e=c.options.drilldown.drillUpButton;this.drillUpButton?this.drillUpButton.attr({text:d}).align():(b=(a=e.theme)&&a.states,this.drillUpButton=this.renderer.button(d,null,null,function(){c.drillUp()},a,b&&b.hover,b&&b.select).attr({align:e.position.align,zIndex:9}).add().align(e.position,!1,e.relativeTo||"plotBox"))},i.prototype.drillUp=function(){for(var a,b,c,e,f=this,g=f.drilldownLevels,h=g[g.length-1].levelNumber,i=g.length,j=f.series,k=function(a){var g;d(j,function(b){b.options._ddSeriesId===a._ddSeriesId&&(g=b)}),g=g||f.addSeries(a,!1),g.type===c.type&&g.animateDrillupTo&&(g.animate=g.animateDrillupTo),a===b.seriesOptions&&(e=g)};i--;)if(b=g[i],b.levelNumber===h){if(g.pop(),c=b.lowerSeries,!c.chart)for(a=j.length;a--;)if(j[a].options.id===b.lowerSeriesOptions.id&&j[a].options._levelNumber===h+1){c=j[a];break}c.xData=[],d(b.levelSeriesOptions,k),n(f,"drillup",{seriesOptions:b.seriesOptions}),e.type===c.type&&(e.drilldownLevel=b,e.options.animation=f.options.drilldown.animation,c.animateDrillupFrom&&c.chart&&c.animateDrillupFrom(b)),e.options._levelNumber=h,c.remove(!1),e.xAxis&&(a=b.oldExtremes,e.xAxis.setExtremes(a.xMin,a.xMax,!1),e.yAxis.setExtremes(a.yMin,a.yMax,!1))}this.redraw(),0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[]},l.prototype.supportsDrilldown=!0,l.prototype.animateDrillupTo=function(a){if(!a){var c=this,e=c.drilldownLevel;d(this.points,function(a){a.graphic&&a.graphic.hide(),a.dataLabel&&a.dataLabel.hide(),a.connector&&a.connector.hide()}),setTimeout(function(){c.points&&d(c.points,function(a,b){var c=b===(e&&e.pointIndex)?"show":"fadeIn",d="show"===c?!0:void 0;a.graphic&&a.graphic[c](d),a.dataLabel&&a.dataLabel[c](d),a.connector&&a.connector[c](d)})},Math.max(this.chart.options.drilldown.animation.duration-50,0)),this.animate=b}},l.prototype.animateDrilldown=function(a){var b,c=this,f=this.chart.drilldownLevels,h=this.chart.options.drilldown.animation,i=this.xAxis;a||(d(f,function(a){c.options._ddSeriesId===a.lowerSeriesOptions._ddSeriesId&&(b=a.shapeArgs,b.fill=a.color)}),b.x+=g(i.oldPos,i.pos)-i.pos,d(this.points,function(a){a.graphic&&a.graphic.attr(b).animate(e(a.shapeArgs,{fill:a.color}),h),a.dataLabel&&a.dataLabel.fadeIn(h)}),this.animate=null)},l.prototype.animateDrillupFrom=function(b){var c=this.chart.options.drilldown.animation,f=this.group,g=this;d(g.trackerGroups,function(a){g[a]&&g[a].on("mouseover")}),delete this.group,d(this.points,function(d){var g=d.graphic,h=function(){g.destroy(),f&&(f=f.destroy())};g&&(delete d.graphic,c?g.animate(e(b.shapeArgs,{fill:b.color}),a.merge(c,{complete:h})):(g.attr(b.shapeArgs),h()))})},k&&e(k.prototype,{supportsDrilldown:!0,animateDrillupTo:l.prototype.animateDrillupTo,animateDrillupFrom:l.prototype.animateDrillupFrom,animateDrilldown:function(b){var c=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],f=this.chart.options.drilldown.animation,g=c.shapeArgs,h=g.start,i=(g.end-h)/this.points.length;b||(d(this.points,function(b,d){b.graphic.attr(a.merge(g,{start:h+d*i,end:h+(d+1)*i,fill:c.color}))[f?"animate":"attr"](e(b.shapeArgs,{fill:b.color}),f)}),this.animate=null)}}),a.Point.prototype.doDrilldown=function(a,b){var c,d=this.series.chart,e=d.options.drilldown,f=(e.series||[]).length;for(d.ddDupes||(d.ddDupes=[]);f--&&!c;)e.series[f].id===this.drilldown&&-1===o(this.drilldown,d.ddDupes)&&(c=e.series[f],d.ddDupes.push(this.drilldown));n(d,"drilldown",{point:this,seriesOptions:c,category:b,points:void 0!==b&&this.series.xAxis.ddPoints[b].slice(0)}),c&&(a?d.addSingleSeriesAsDrilldown(this,c):d.addSeriesAsDrilldown(this,c))},a.Axis.prototype.drilldownCategory=function(a){var b,c,d=this.ddPoints[a];for(b in d)(c=d[b])&&c.series&&c.series.visible&&c.doDrilldown&&c.doDrilldown(!0,a);this.chart.applyDrilldown()},a.Axis.prototype.getDDPoints=function(a,b){var c=this.ddPoints;return c||(this.ddPoints=c={}),c[a]||(c[a]=[]),c[a].levelNumber!==b&&(c[a].length=0),c[a]},m.prototype.drillable=function(){var b=this.pos,c=this.label,d=this.axis,e=d.ddPoints&&d.ddPoints[b];c&&e&&e.length?(c.basicStyles||(c.basicStyles=a.merge(c.styles)),c.addClass("highcharts-drilldown-axis-label").css(d.chart.options.drilldown.activeAxisLabelStyle).on("click",function(){d.drilldownCategory(b)})):c&&c.basicStyles&&(c.styles={},c.css(c.basicStyles),c.on("click",null))},h(m.prototype,"addLabel",function(a){a.call(this),this.drillable()}),h(a.Point.prototype,"init",function(b,c,d,e){var f=b.call(this,c,d,e),b=(d=c.xAxis)&&d.ticks[e],e=d&&d.getDDPoints(e,c.options._levelNumber);return f.drilldown&&(a.addEvent(f,"click",function(){f.doDrilldown()}),e)&&(e.push(f),e.levelNumber=c.options._levelNumber),b&&b.drillable(),f}),h(a.Series.prototype,"drawDataLabels",function(a){var b=this.chart.options.drilldown.activeDataLabelStyle;a.call(this),d(this.points,function(a){a.drilldown&&a.dataLabel&&a.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(b)})});var q,c=function(a){a.call(this),d(this.points,function(a){a.drilldown&&a.graphic&&a.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(q in j)j[q].prototype.supportsDrilldown&&h(j[q].prototype,"drawTracker",c)}(Highcharts),Graph={loadTimePageViewGraph:function(a,b,c,d,e,f){_yAxis1=c.slice(0),_yAxis2=d.slice(0);for(key in _yAxis1)_yAxis1.hasOwnProperty(key)&&(_yAxis1[key]=[b[key],_yAxis1[key]]),_yAxis2[key]=[b[key],_yAxis2[key]];$("#visitor").highcharts({chart:{zoomType:"x"},title:{text:""},xAxis:[{minRange:36e5,type:"datetime",plotLines:f}],yAxis:[{labels:{format:"{value}",style:{color:"#89A54E"}},title:{text:"No of Visitor",style:{color:"#89A54E"}}},{title:{text:"Avg Time",style:{color:"#4572A7"}},plotLines:[{value:e,color:"brown",dashStyle:"shortdash",width:2,label:{text:"Median Load Time"}}],labels:{format:"{value} sec",style:{color:"#4572A7"}},opposite:!0}],tooltip:{shared:!0},legend:{backgroundColor:"#FFFFFF"},series:[{name:"No of Visitor",color:"#89A54E",type:"column",data:_yAxis1,pointStart:b[0],tooltip:{valueSuffix:""}},{name:"Avg Time",color:"#4572A7",type:"spline",yAxis:1,zIndex:1,data:_yAxis2,pointStart:b[0],tooltip:{valueSuffix:"sec"}}]})},threshold:[2,5,Number.MAX_VALUE],vistorBucket:[0,0,0],visitorSum:0,colors:["#06c27a","#14a4d2","#f1764b"],fillVisitorBucket:function(a,b){for(var c=0;c<this.threshold.length;c++)if(parseInt(a)<=this.threshold[c])return this.vistorBucket[c]+=parseInt(b),this.visitorSum+=parseInt(b),this.colors[c]},percentage:function(){for(var a=[],b=0;b<this.vistorBucket.length;b++)a[b]=parseInt((this.vistorBucket[b]/this.visitorSum*100).toFixed(0));return a},timeChart:function(a,b,c,d){b=[],sec=[];for(key in a)a.hasOwnProperty(key)&&(sec.push(b.length),d=Graph.fillVisitorBucket(b.length,a[key]),b.push({y:parseInt(a[key]),color:d}));$("#timeChart").highcharts({title:{text:""},chart:{type:"column"},xAxis:{categories:sec,title:{text:"Seconds took"}},yAxis:{title:{text:"Number of Visitors"}},legend:{enabled:0},credits:{enabled:0},tooltip:{headerFormat:'<span style="font-size:11px">{point.x} second</span><br>',pointFormat:'<span style="color:{point.color}"><b>{point.y} visitors</b><br/>'},series:[{name:"Visitors",data:b}]}),Graph.userExperience()},userExperience:function(){var a=Graph.percentage();$("#userExp").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},title:{text:"User<br>Experience",align:"center",verticalAlign:"middle",y:10,style:{fontSize:"14px"}},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-35,style:{fontWeight:"bold",color:"white",textShadow:"0px 1px 2px black"}},startAngle:-120,endAngle:120,center:["50%","75%"],size:260}},area:{fillColor:"#000000"},credits:{enabled:0},series:[{type:"pie",name:"Browser share",innerSize:"90%",data:[{name:"Happy",y:a[0],color:this.colors[0]},{name:"Satisfied",y:a[1],color:this.colors[1]},{name:"Unhappy",y:a[2],color:this.colors[2]}]}]})},platformData:function(a){var b={name:"Desktop",y:0,drilldown:"desktop"},c={name:"Mobile",y:0,drilldown:"mobile"},d={name:"Tablet",y:0,drilldown:"tablet"},e={id:"desktop",name:"Desktop Os",data:[]},f={id:"mobile",name:"Mobile Os",data:[]},g={id:"tablet",name:"Tablet Os",data:[]},h=function(a,b,c){a.push([b||"Unidentified",c])};for(key in a)if(a.hasOwnProperty(key)){var i=parseInt(a[key].pageViews);"desktop"==a[key].type?(b.y+=i,h(e.data,a[key].label,i),j=a[key].label.match(/(^.*?)([0-9.]*) ?$/)):"mobile"==a[key].type?(c.y+=i,h(f.data,a[key].label,i),j=a[key].label.match(/(^.*?)([0-9.]*) ?$/)):"tablet"==a[key].type&&(d.y+=i,h(g.data,a[key].label,i),j=a[key].label.match(/(^.*?)([0-9.]*) ?$/))}var j,b={name:"Desktop",y:0},c={name:"Mobile",y:0},d={name:"Tablet",y:0},k=[],l=[],m=[],n=[],o=[],p=[],q=/(^.*?)([0-9.]*) ?$/;for(key in a)a.hasOwnProperty(key)&&("desktop"==a[key].type?(k.push(a[key]),b.y+=parseInt(a[key].pageViews),j=a[key].label.match(q),n.push(j[1])):"mobile"==a[key].type?(l.push(a[key]),c.y+=parseInt(a[key].pageViews),j=a[key].label.match(q),o.push(j[1])):"tablet"==a[key].type&&(m.push(a[key]),d.y+=parseInt(a[key].pageViews),j=a[key].label.match(q),p.push(j[1])));n=$.grep(n,function(a,b){return b==$.inArray(a,n)}),o=$.grep(o,function(a,b){return b==$.inArray(a,o)}),p=$.grep(p,function(a,b){return b==$.inArray(a,p)});var r=[n,o,p],s={},t={},u={};$.each(r,function(a,b){0==a?$.each(b,function(a,b){s[b.split(" ")[0].toLowerCase()]=[]}):1==a?$.each(b,function(a,b){t[b.split(" ")[0].toLowerCase()]=[]}):2==a&&$.each(b,function(a,b){u[b.split(" ")[0].toLowerCase()]=[]})});for(var v=[k,l,m],w=0;w<v.length;w++){if(0==w){for(var x=v[w],y={level:1,data:[]},z=s,A=0;A<x.length;A++){var B=x[A];for(var C in z)B.label.toLowerCase().indexOf(C)>-1&&z[C].push(B)}for(C in z){for(var D=z[C],a={y:0,name:C},E=[],F={level:2},G=0;G<D.length;G++)E.push([D[G].label,parseInt(D[G].pageViews)]),a.y+=parseInt(D[G].pageViews);F.data=E,a.drilldown=F,y.data.push(a)}b.drilldown=y}if(1==w){for(var x=v[w],y={level:1,data:[]},z=t,A=0;A<x.length;A++){var B=x[A];for(var C in z)B.label.toLowerCase().indexOf(C)>-1&&z[C].push(B)}for(C in z){for(var D=z[C],a={y:0,name:C},E=[],F={level:2},G=0;G<D.length;G++)E.push([D[G].label,parseInt(D[G].pageViews)]),a.y+=parseInt(D[G].pageViews);F.data=E,a.drilldown=F,y.data.push(a)}c.drilldown=y}if(2==w){for(var x=v[w],y={level:1,data:[]},z={windows:[],linux:[],ubuntu:[],mac:[]},A=0;A<x.length;A++){var B=x[A];B.label.toLowerCase().indexOf("windows")>-1?z.windows.push(B):B.label.toLowerCase().indexOf("linux")>-1?z.linux.push(B):B.label.toLowerCase().indexOf("ubuntu")>-1?z.ubuntu.push(B):B.label.toLowerCase().indexOf("mac")>-1&&z.mac.push(B)}for(C in z){for(var D=z[C],a={y:0,name:C},E=[],F={level:2},G=0;G<D.length;G++)E.push([D[G].label,parseInt(D[G].pageViews)]),a.y+=parseInt(D[G].pageViews);F.data=E,a.drilldown=F,y.data.push(a)}d.drilldown=y}}var H,a=[b,c,d];$("#browserShare").highcharts({chart:{type:"pie"},title:{text:"OS wise Visitor Distribution"},subtitle:{text:"Click the slices to view versions."},plotOptions:{series:{dataLabels:{enabled:!0,formatter:function(){return"<b>"+this.point.name+"</b>:"+Math.round(100*this.percentage)/100+"%"}},allowPointSelect:!0},pie:{size:"50%",allowPointSelect:!0,point:{events:{click:function(){var a=this.series.chart,b=this.drilldown;return b?(b.level>0&&$("#resetChart").parent().css("display","block"),void a.setChart(b.name,b.categories,b.data,b.color,b.level)):!1}}}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b>'},series:[{name:"OS Type",colorByPoint:!0,data:a,level:0}]},function(a){H=a,a.upper=[];var b=!1;a.setChart=function(c,d,e,f,g){c===!0&&a.upper.length,b===!1&&(b=!0),a.upper.push(a.series[0].options),a.series[0].remove(),a.addSeries({name:c,data:e,level:g,color:f||"white"})}});$("#resetChart").on("click",function(b){H.setChart("OS Type",null,a,null,0)})},browserPieData:function(a){var b=new Array,c=[],d=[],e=[],f=[];for(key in a)a.hasOwnProperty(key)&&-1==$.inArray(a[key].label,b)&&b.push(a[key].label);for(var g in b)e[g]={name:b[g],y:0,drilldown:b[g]+" Version"},c.push(e[g]),f[g]={id:b[g]+" Version",name:b[g]+" Version",data:[]},d.push(f[g]);var h=function(a,b,c){a.push([b||"Unidentified",c])};for(key in a)if(a.hasOwnProperty(key))for(var g in b)a[key].label==b[g]&&(e[g].y++,h(f[g].data,b[g]+" "+a[key].version,parseInt(a[key].pageViews)));$("#browser-pie").highcharts({chart:{type:"pie"},title:{text:"Browser wise Visitor Distribution"},subtitle:{text:"Click the slices to view versions."},plotOptions:{series:{dataLabels:{enabled:!0,formatter:function(){return"<b>"+this.point.name+"</b>:"+Math.round(100*this.percentage)/100+"%"}}},pie:{size:"50%"}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'},series:[{name:"Browser Type",colorByPoint:!0,data:c}],drilldown:{series:d}})},navTime:function(a,b){var c=[],d=this.colors;b={frontendTime:"Page Render",backendTime:"First Byte",networkTime:"DNS Lookup Time"};for(key in b){var e=Utility.milliToSec(a[key],!0),f={name:b[key],data:[e],color:d[c.length%d.length]};c.push(f)}$("#container").highcharts({chart:{type:"bar",renderTo:"container"},title:{text:"Navigation Time"},xAxis:{type:"datetime",categories:["Time"]},legend:{backgroundColor:"#FFFFFF",reversed:!0},tooltip:{borderRadius:"0px"},plotOptions:{area:{fillColor:"#000000"},series:{stacking:"normal"}},series:c})}},$(document).ready(function(){Utility.blockUI($("#container, #visitor, #userExp, #browserTable, #deviceTab, #resourceTimerTable_wrapper")),calls.init({name:"loadStatesData",url:serviceBaseUrl+"/boomGetBreakupTimes.php",responseVarName:"loadStatesData",callback:callback.loadStatesData}).trigger({el:$("#loadStatesData")}),calls.init({name:"browserData",url:serviceBaseUrl+"/boomGetBrowserWiseLoadTimesAndPageViews.php",responseVarName:"browserData",callback:callback.browserData}).trigger({el:""}),calls.init({name:"loadTimePageView",url:serviceBaseUrl+"/boomGetLoadTimesAndPageViews.php",responseVarName:"loadTimePageView",callback:callback.loadTimePageViewData}).trigger({el:$("#visitor")}),calls.init({name:"loadTimeRanges",url:serviceBaseUrl+"/boomGetLoadTimeRanges.php",responseVarName:"loadTimeRanges",callback:Graph.timeChart}).trigger({el:$("#timeChart")}),calls.init({name:"platformData",url:serviceBaseUrl+"/boomGetOSWiseLoadTimesAndPageViews.php",responseVarName:"platformData",callback:callback.platformData}).trigger({el:$("#browserShare")}),calls.init({name:"resourceTimer",url:serviceBaseUrl+"/boomGetCustomTimes.php",responseVarName:"resourceTimer",callback:Tables.resourceTimeTable}).trigger({el:$("#_")}),$("#browserTable tbody td i").live("click",function(){var a=$(this).parents("tr")[0],b=$(this).data("name");browserTable.fnIsOpen(a)?($(this).removeClass("icon-minus-sign").addClass("icon-plus-sign"),browserTable.fnClose(a)):($(this).removeClass("icon-plus-sign").addClass("icon-minus-sign"),browserTable.fnOpen(a,fnBrowserDetails(browserTable,a,b),"details"))}),$("#deviceTable tbody td i").live("click",function(){var a=$(this).parents("tr")[0],b=$(this).data("name");deviceTable.fnIsOpen(a)?($(this).removeClass("icon-minus-sign").addClass("icon-plus-sign"),deviceTable.fnClose(a)):($(this).removeClass("icon-plus-sign").addClass("icon-minus-sign"),deviceTable.fnOpen(a,fnplatformDetails(deviceTable,a,b),"details"))})}),callback={loadStatesData:function(a){Graph.navTime(a),map={networkTime:"#t_dns",backendTime:"#t_resp",frontendTime:"#t_page",domReadyTime:"#t_domLoaded"};for(key in map){var b=Utility.milliToSec(a[key]);$(map[key]+" strong value").text(b)}},browserData:function(a){total_pageViews=0,total_loadTime=0,distinctBr=[];for(key in a)distinctBr[a[key].label]||(distinctBr[a[key].label]={});for(var b in a)total_pageViews+=parseInt(a[b].pageViews),total_loadTime+=parseInt(a[b].loadTime);for(var b in distinctBr){
var c=0,d=0,e=0,f=0;for(var g in a)b==a[g].label&&(c+=parseInt(a[g].pageViews),e+=a[g].loadTime*a[g].pageViews,d+=parseInt(a[g].loadTime),f+=1);null==distinctBr[b].pageViews&&(distinctBr[b].pageViews=Utility.toFixed(100*(c/total_pageViews))),null==distinctBr[b].avgLoadTime&&(distinctBr[b].avgLoadTime=Utility.milliToSec(e/c))}browserTable.fnClearTable();for(var b in distinctBr){var h='<i class="icon-plus-sign" data-name="'+b+'"></i>';browserTable.fnAddData([b||"Unidentified",distinctBr[b].pageViews+"%",distinctBr[b].avgLoadTime,h])}Utility.unblockUI($("#browserTable")),Graph.browserPieData(a)},platformData:function(a){total_pageViews=0,total_loadTime=0,distinctBr=[];for(key in a)distinctBr[a[key].type]||(distinctBr[a[key].type]={});for(var b in a)total_pageViews+=parseInt(a[b].pageViews),total_loadTime+=parseInt(a[b].loadTime);for(var b in distinctBr){var c=0,d=0,e=0,f=0;for(var g in a)b==a[g].type&&(c+=parseInt(a[g].pageViews),e+=a[g].loadTime*a[g].pageViews,d+=parseInt(a[g].loadTime),f+=1);null==distinctBr[b].pageViews&&(distinctBr[b].pageViews=Utility.toFixed(100*(c/total_pageViews))),null==distinctBr[b].avgLoadTime&&(distinctBr[b].avgLoadTime=Utility.milliToSec(e/c))}deviceTable.fnClearTable();for(var b in distinctBr){var h='<i class="icon-plus-sign" data-name="'+b+'"></i>';deviceTable.fnAddData([b||"Unidentified",distinctBr[b].pageViews+"%",distinctBr[b].avgLoadTime,h])}Utility.unblockUI($("#deviceTab")),Graph.platformData(a)},loadTimePageViewData:function(a,b){callback.plotLineArray=[],xAxis=[],yAxis1=[],yAxis2=[];for(key in a.pageViews){var c=key.split(/-|\s|:/);c[1]=parseInt(c[1])-1,xAxis[xAxis.length]=Date.UTC.apply(Date.UTC,c),yAxis1[yAxis1.length]=parseFloat(a.pageViews[key]||0)}for(key in a.loadTimes)yAxis2[yAxis2.length]=Utility.milliToSec(a.loadTimes[key],!0);b=Utility.getMedian(yAxis2),$("#lt_median value").html(Utility.toFixed(b)),$("#lt_average value").html(Utility.toFixed(Utility.getAverage(yAxis2,yAxis1))),$("#pgv_total value").html(Utility.getTotal(yAxis1)),deploymentLineGraphCall(a,xAxis,yAxis1,yAxis2,b,callback.plotLineArray),Tables.visitorTable(a.interval,xAxis,yAxis1,yAxis2)}};