function getFilter(){var a,b,c,d,e,f;if(0!=$("#select-file option:selected").length){var g=$("#select-file option:selected");if(a=encodeURIComponent(g[0].text),g.length>1)for(var h=1;h<g.length;h++)a+="&file[]="+encodeURIComponent(g[h].text);param["file[]"]=a}if(0!=$("#select-error option:selected").length){var i=$("#select-error option:selected");if(b=encodeURIComponent(i[0].text),i.length>1)for(var h=1;h<i.length;h++)b+="&error_msg[]="+encodeURIComponent(i[h].text);param["error_msg[]"]=b}if(0!=$("#select-url option:selected").length){var j=$("#select-url option:selected");if(c=encodeURIComponent(j[0].text),j.length>1)for(var h=1;h<j.length;h++)c+="&url_tag[]="+j[h].innerHTML;param["url_tag[]"]=c}if(0!=$("#select-os option:selected").length){var k=$("#select-os option:selected");if(d=k[0].value,k.length>1)for(var h=1;h<k.length;h++)d+="&os_id[]="+k[h].value;param["os_id[]"]=d}if(0!=$("#select-browser option:selected").length){var l=$("#select-browser option:selected");if(e=l[0].value,l.length>1)for(var h=1;h<l.length;h++)e+="&browser_id[]="+l[h].value;param["browser_id[]"]=e}if(0!=$("#select-res option:selected").length){var m=$("#select-res option:selected");if(f=m[0].value,m.length>1)for(var h=1;h<m.length;h++)f+="&screen_reso_id[]="+m[h].value;param["screen_reso_id[]"]=f}}function filterCalls(){calls.filterDataFile.trigger({el:null},param),calls.filterDataOS.trigger({el:null},param),calls.filterDataScreen.trigger({el:null},param),calls.filterDataError.trigger({el:null},param),calls.filterDataURL.trigger({el:null},param),calls.filterDataBrowser.trigger({el:null},param)}$(document).ready(function(){$("#filterSearch").click(function(){getFilter(),Tables.tb_urlList.reset_pagein(),param.pageNumber=Tables.tb_urlList.offset+1,param.quant=Tables.tb_urlList.count,calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param),filterCalls()}),$("#nLoggerTable .inner-table .all-file").live("click",function(a){a.preventDefault();var b=$(this).data("file"),c=Utility.updateQueryString({fileId:b});window.open("pageList.php"+c,"_blank")}),$("#all-result").click(function(){location.reload()}),$("[name=nLoggerTable_length]").change(function(){Tables.tb_urlList.count=parseInt($(this).val()),Tables.tb_urlList.reset_pagein(),param.pageNumber=Tables.tb_urlList.offset+1,param.quant=Tables.tb_urlList.count,""!=$("div.cus_search input").val()&&(query=$("div.cus_search input").val()||"",param.query=query),getFilter(),calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param)}),$("[name=pageListTable_length]").change(function(){Tables.tb_pageList.count=parseInt($(this).val()),Tables.tb_pageList.reset_pagein(),param2.pageNumber=Tables.tb_pageList.offset+1,param2.quant=Tables.tb_pageList.count,calls.pageListData.trigger({el:$("#pageListTable_wrapper")},param2)}),$("div.cust_pagination").html('<span id="page_detail"></span><button id="page_prev" value="prev">Prev</button><button id="page_next" value="next">Next</button>'),$("#nLoggerTable_wrapper #page_next").click(function(){var a=Tables.tb_urlList.total_num_page();if(next_page_index=Tables.tb_urlList.offset+1,next_page_index<a){Tables.tb_urlList.offset+=1;({pageNumber:Tables.tb_urlList.offset,quant:Tables.tb_urlList.count});param.pageNumber=Tables.tb_urlList.offset+1,param.quant=Tables.tb_urlList.count,calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param)}}),$("#nLoggerTable_wrapper #page_prev").click(function(){var a=Tables.tb_urlList.offset;a>0&&(Tables.tb_urlList.offset=a,param.pageNumber=a,Tables.tb_urlList.offset=a-1,calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param))}),$("#pageListTable_wrapper #page_next").click(function(){var a=Tables.tb_pageList.total_num_page();next_page_index2=Tables.tb_pageList.offset+1,next_page_index2<a&&(Tables.tb_pageList.offset+=1,param2.pageNumber=Tables.tb_pageList.offset+1,param2.quant=Tables.tb_pageList.count,calls.pageListData.trigger({el:$("#pageListTable_wrapper")},param2))}),$("#pageListTable_wrapper #page_prev").click(function(){var a=Tables.tb_pageList.offset;a>0&&(Tables.tb_pageList.offset=a,param2.pageNumber=a,Tables.tb_pageList.offset=a-1,calls.pageListData.trigger({el:$("#pageListTable_wrapper")},param2))});var a='<div class="cus_search pull-right"><input type="text" placeholder="Press enter to search"> <button type="submit" class="btn btn-success" id="btn-search"><span class="icon icon-search"></span></button><h6 style="margin:0">Enter more than 3 Characters</h6></div>';$(a).insertAfter($("#test2")),$(".selectpicker").selectpicker(),$("div.cus_search input").keypress(function(a){if(13==a.which){var b=Tables.tb_urlList.setQuery($(this).val());getFilter(),Tables.tb_urlList.reset_pagein(),param.pageNumber=Tables.tb_urlList.offset+1,param.quant=Tables.tb_urlList.count,param.query=b,calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param),filterCalls()}}),$("#btn-search").click(function(){var a=Tables.tb_urlList.setQuery($(this).val());getFilter(),Tables.tb_urlList.reset_pagein(),param.pageNumber=Tables.tb_urlList.offset+1,param.quant=Tables.tb_urlList.count,param.query=a,calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param),filterCalls()}),$("#changeDate").click(function(){var a=$("#startDate").datepicker("getDate").getTime(),b=$("#endDate").datepicker("getDate").getTime(),c=864e5,d=Math.round((b-a)/c);if(7>d)document.location.href=Utility.updateQueryString({startDate:$("#startDate").val(),endDate:$("#endDate").val()});else{var e='<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>Sorry!</strong> The date range cannot be more than 7 days. </div>';$("#error-msg").html(e)}}),$("li.open:visible .title,.sub-menu li.open:visible").click(),$(".grid .tools a.reload").live("click",function(a){$("div.cus_search input").val(""),quant=$("[name=nLoggerTable_length]").val(),param={startDate:startDate,endDate:endDate,appId:appId,pageNumber:1,quant:quant,groupBy:"None",cb:"Tables.resourceTimeTable"},calls.loadStatesData.trigger({el:$("#nLoggerTable_wrapper")},param),filterCalls()})});